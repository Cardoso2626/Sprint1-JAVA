<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de funcionários da MotoBlu</title>
    <link th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}" rel="stylesheet" />
    <script th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}" defer></script>
    <link th:href="@{/css/styles.css}" rel="stylesheet" />
    <script th:src="@{/js/script.js}" defer></script>
</head>
<body>
    <div th:replace="~{fragments/header :: header}">

    </div>
    <div>
        <h2>Lista de funcionários</h2>
        <table>
            <thead>
                <tr>
                    <td>Nome</td>
                    <td>Email</td>
                    <td>Telefone</td>
                </tr>
            </thead>
            <tbody>
                <tr th:each="funcionario : ${listarFuncionarios}">
                    <td th:text="${funcionario.nome}"></td>
                    <td th:text="${funcionario.email}"></td>
                    <td th:text="${funcionario.telefone}"></td>
                    <td>
                        <button th:attr="onclick=|showModal('infoModal' + ${funcionario.id})|" >
                            Mais informações
                        </button>
                    </td>

                </tr>
            </tbody>
        </table>
        <div th:each="funcionario: ${listarFuncionarios}" th:attr="id=${'infoModal' + funcionario.id}" style="display: none;">
            <p>
                ID: <span th:text="${funcionario.id}"></span><br/>
                nome: <span th:text="${funcionario.nome}"></span><br/>
                Cpf: <span th:text="${funcionario.cpf}"></span><br/>
                Email: <span th:text="${funcionario.email}"></span><br/>
                Rg: <span th:text="${funcionario.rg}"></span><br/>
                Telefone: <span th:text="${funcionario.telefone}"></span><br/>
                <a th:href="@{/pageFuncionario/cadastro/{id}(id = ${funcionario.id})}">EDITAR</a> |  <a th:href="@{/pageFuncionario/deletar/{id}(id = ${funcionario.id})}">Deletar</a>
            </p>
            <button th:attr="onclick=|hideModal('infoModal' + ${funcionario.id})|">
                Fechar
            </button>
        </div>
    </div>
    <div th:replace="~{fragments/footer :: footer}">

    </div>

</body>
</html>